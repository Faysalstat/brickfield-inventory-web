<mat-card class="mt-5">
    <div class="row">
        <h2>Invoice No: {{delivery?.invoice?.invoiceNo}}</h2>
        <hr/>
        <div class="col-md-6">
            <table class="table table-striped" >
                <tbody>
                    <tr>
                        <td>Customer Name:</td>
                        <td>{{customer?.person?.personName}}</td>
                    </tr>
                    <tr>
                        <td>Brick Type:</td>
                        <td>{{brick?.category}}</td>
                    </tr>
                    <tr>
                        <td>Delivery Status:</td>
                        <td>{{delivery.deliveryStatus}} </td>
                    </tr>
                    <tr *ngIf="isPaymentDue" style="color: crimson ;font-weight: bolder;">
                        <td>Due Payment:</td>
                        <td>{{delivery?.invoice?.duePament}} BDT</td>
                    </tr>
                    <tr>
                        <td>Deliverable Quantity:</td>
                        <td>{{delivery?.deliverableQuantity}} </td>
                    </tr>
                    <tr>
                        <td>Schedule Date:</td>
                        <td>{{applyFilter(delivery?.scheduledDate)}} </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-6">
            <table class="table table-striped" >
                <tbody>
                    <tr>
                        <td>Customer Contact:</td>
                        <td>{{customer?.person?.contactNo}}</td>
                    </tr>
                    <tr>
                        <td>Brick Quantity:</td>
                        <td>{{delivery.deliverableQuantity}}</td>
                    </tr>
                    <tr>
                        <td>Driver Name:</td>
                        <td>{{delivery?.driver?.person?.personName}}</td>
                    </tr>
                    <tr style="color: #424241 ;font-weight: bolder;">
                        <td> Contact No: </td>
                        <td>{{delivery?.driver?.person?.contactNo}}</td>
                    </tr>
                    <tr>
                        <td>Vehicle Category</td>
                        <td>{{delivery?.vehicleCategory?.categoryName}} </td>
                    </tr>
                    <tr>
                        <td>Trip Needed :</td>
                        <td>{{delivery?.tripNeeded}} </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-12" style="margin:10px;">
            <mat-checkbox  [(ngModel)]="transportCostCustomerPayable">
                পরিবহন খরচ কাস্টমার পরিশোধ করবে
            </mat-checkbox>
        </div>
        <div class="col-md-4">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Deliverable Quantity:</mat-label>
                <input [ngModelOptions]="{standalone:true}" (change)="checkValidation()" [(ngModel)]="delivery.deliverableQuantity" matInput>
            </mat-form-field>
        </div>
        <div class="col-md-4">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Transport Cost:</mat-label>
                <input [ngModelOptions]="{standalone:true}" [(ngModel)]="delivery.transportCost" matInput>
            </mat-form-field>
        </div>
        <div class="col-md-4">
            <mat-form-field appearance="outline">
                <mat-label>Schedule Date:</mat-label>
                <input matInput [matDatepicker]="picker" [ngModelOptions]="{standalone:true}"
                    [(ngModel)]="delivery.scheduledDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </div>
        <div class="col-md-12">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Delivery Location:</mat-label>
                <textarea type="text" pInputText [ngModelOptions]="{standalone:true}" [(ngModel)]="delivery.deliveryLocation" matInput></textarea>
            </mat-form-field>
        </div>
        
        <div *ngIf="isSubmitted" class="col-md-12 ">
            <div class="modal-loader">
                <mat-spinner color="accent" style="margin:80px auto;" diameter="200"></mat-spinner>
            </div>
        </div>
        <div class="col-md-12">
            <button style="float:right; margin-top: 10px;" mat-raised-button 
            (click)="doDelivery()" color="accent">Deliver</button>
        </div>
    </div>
</mat-card>


